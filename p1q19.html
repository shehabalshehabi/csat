<div id="header"><a href="http://www.cam.ac.uk/"><img alt="University of Cambridge" src="https://www.cl.cam.ac.uk/images/identifier.gif" /></a></div>
<div id="dept-title"><a href="https://www.cl.cam.ac.uk">Department of Computer Science and Technology</a></div>

<link rel="stylesheet" type="text/css" href="tempsheet.css" />
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<div id="container">
<h1 id="sample-test-1-question-19">Sample Test 1 Question 19</h1>
<h3 id="related-topics">Related Topics</h3>
<ul>
<li>Recursive functions</li>
</ul>
<h2 id="warmup-questions">Warmup Questions</h2>
<ol type="1">
<li>Have a look at the following pseudocode:</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb1-1" data-line-number="1">function g(n):</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">    <span class="cf">if</span> n <span class="op">=</span> <span class="dv">0</span> <span class="cf">return</span> n</a>
<a class="sourceLine" id="cb1-3" data-line-number="3">    <span class="cf">else</span> <span class="cf">return</span> <span class="dv">2</span> <span class="op">*</span> g(n<span class="dv">-1</span>)<span class="op">;</span></a></code></pre></div>
<p>What is the purpose of this function? What are the conditions on <span class="math inline">\(n\)</span> required for this function to work?</p>
<ol start="2" type="1">
<li>A game of Chinese Whispers is played in time steps. <span class="math inline">\(A\)</span> begins by telling a secret to her friends. Then her friends, in the same time step, tell the secret to all their friends. This continues until everyone knows the secret. If an edge on the following graph represents friendship, who is the last to know of the secret and in how many time steps?</li>
</ol>
<pre class="mermaid" style = "height: 150px"><pre class="part mermaid" data-startline="21" data-endline="27" data-processed="true"><svg id="mermaidChart0" xmlns="http://www.w3.org/2000/svg" height="100%" viewBox="0 0 250 170" style="max-width:250px;"><style>
  .mermaid .label{color:#333}.node circle,.node ellipse,.node polygon,.node rect{fill:#ececff;stroke:#ccf;stroke-width:1px}.node.clickable{cursor:pointer}.arrowheadPath{fill:#333}.edgePath .path{stroke:#333}.edgeLabel{background-color:#e8e8e8}.cluster rect{fill:#ffffde!important;rx:4!important;stroke:#aa3!important;stroke-width:1px!important}.cluster text{fill:#333}.actor{stroke:#ccf;fill:#ececff}text.actor{fill:#000;stroke:none}.actor-line{stroke:grey}.messageLine0{marker-end:"url(#arrowhead)"}.messageLine0,.messageLine1{stroke-width:1.5;stroke-dasharray:"2 2";stroke:#333}#arrowhead{fill:#333}#crosshead path{fill:#333!important;stroke:#333!important}.messageText{fill:#333;stroke:none}.labelBox{stroke:#ccf;fill:#ececff}.labelText,.loopText{fill:#000;stroke:none}.loopLine{stroke-width:2;stroke-dasharray:"2 2";marker-end:"url(#arrowhead)";stroke:#ccf}.note{stroke:#aa3;fill:#fff5ad}.noteText{fill:#000;stroke:none;font-family:trebuchet ms,verdana,arial;font-size:14px}.section{stroke:none;opacity:.2}.section0{fill:rgba(102,102,255,.49)}.section2{fill:#fff400}.section1,.section3{fill:#fff;opacity:.2}.sectionTitle0,.sectionTitle1,.sectionTitle2,.sectionTitle3{fill:#333}.sectionTitle{text-anchor:start;font-size:11px;text-height:14px}.grid .tick{stroke:#d3d3d3;opacity:.3;shape-rendering:crispEdges}.grid path{stroke-width:0}.today{fill:none;stroke:red;stroke-width:2px}.task{stroke-width:2}.taskText{text-anchor:middle;font-size:11px}.taskTextOutsideRight{fill:#000;text-anchor:start;font-size:11px}.taskTextOutsideLeft{fill:#000;text-anchor:end;font-size:11px}.taskText0,.taskText1,.taskText2,.taskText3{fill:#fff}.task0,.task1,.task2,.task3{fill:#8a90dd;stroke:#534fbc}.taskTextOutside0,.taskTextOutside1,.taskTextOutside2,.taskTextOutside3{fill:#000}.active0,.active1,.active2,.active3{fill:#bfc7ff;stroke:#534fbc}.activeText0,.activeText1,.activeText2,.activeText3{fill:#000!important}.done0,.done1,.done2,.done3{stroke:grey;fill:#d3d3d3;stroke-width:2}.doneText0,.doneText1,.doneText2,.doneText3{fill:#000!important}.crit0,.crit1,.crit2,.crit3{stroke:#f88;fill:red;stroke-width:2}.activeCrit0,.activeCrit1,.activeCrit2,.activeCrit3{stroke:#f88;fill:#bfc7ff;stroke-width:2}.doneCrit0,.doneCrit1,.doneCrit2,.doneCrit3{stroke:#f88;fill:#d3d3d3;stroke-width:2;cursor:pointer;shape-rendering:crispEdges}.activeCritText0,.activeCritText1,.activeCritText2,.activeCritText3,.doneCritText0,.doneCritText1,.doneCritText2,.doneCritText3{fill:#000!important}.titleText{text-anchor:middle;font-size:18px;fill:#000}g.classGroup text{fill:#9370db;stroke:none;font-family:trebuchet ms,verdana,arial;font-size:10px}g.classGroup rect{fill:#ececff;stroke:#9370db}g.classGroup line{stroke:#9370db;stroke-width:1}svg .classLabel .box{stroke:none;stroke-width:0;fill:#ececff;opacity:.5}svg .classLabel .label{fill:#9370db;font-size:10px}.relation{stroke:#9370db;stroke-width:1;fill:none}#compositionEnd,#compositionStart,.composition{fill:#9370db;stroke:#9370db;stroke-width:1}#aggregationEnd,#aggregationStart,.aggregation{fill:#ececff;stroke:#9370db;stroke-width:1}#dependencyEnd,#dependencyStart,#extensionEnd,#extensionStart{fill:#9370db;stroke:#9370db;stroke-width:1}.node text{font-size:14px}.node text,div.mermaidTooltip{font-family:trebuchet ms,verdana,arial}div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-size:12px;background:#ffffde;border:1px solid #aa3;border-radius:2px;pointer-events:none;z-index:100}
svg {
  color: rgb(51, 51, 51);
  font: normal normal normal normal 13.600000381469727px/19px Menlo, Monaco, Consolas, "Courier New", monospace;
}
  </style><g><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath" style="opacity: 1;"><path class="path" d="M42.86146138496502,87.22512524943184L75,35L100,35" marker-end="url(#arrowhead17)" style="fill:none"></path><defs><marker id="arrowhead17" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 0 0 L 0 0 z" style="fill: #333"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M185.62957428668363,126.71303214164546L155,165L115,165L75,165L42.86146138496502,112.77487475056816" marker-end="url(#arrowhead18)" style="fill:none"></path><defs><marker id="arrowhead18" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 0 0 L 0 0 z" style="fill: #333"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M130,35L155,35L188.29179606750063,101.58359213500127" marker-end="url(#arrowhead19)" style="fill:none"></path><defs><marker id="arrowhead19" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 0 0 L 0 0 z" style="fill: #333"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M130,115L155,115L180,115" marker-end="url(#arrowhead20)" style="fill:none"></path><defs><marker id="arrowhead20" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 0 0 L 0 0 z" style="fill: #333"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node" id="nA" transform="translate(35,100)" style="opacity: 1;"><circle x="-13.1875" y="-15" r="15"></circle><g class="label" transform="translate(0,0)"><g transform="translate(-3.1875,-5)"><foreignObject width="6.375" height="10"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">A</div></foreignObject></g></g></g><g class="node" id="nB" transform="translate(115,35)" style="opacity: 1;"><circle x="-13.1875" y="-15" r="15"></circle><g class="label" transform="translate(0,0)"><g transform="translate(-3.1875,-5)"><foreignObject width="6.375" height="10"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">B</div></foreignObject></g></g></g><g class="node" id="nC" transform="translate(195,115)" style="opacity: 1;"><circle x="-13.1875" y="-15" r="15"></circle><g class="label" transform="translate(0,0)"><g transform="translate(-3.1875,-5)"><foreignObject width="6.375" height="10"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">C</div></foreignObject></g></g></g><g class="node" id="nD" transform="translate(115,115)" style="opacity: 1;"><circle x="-13.1875" y="-15" r="15"></circle><g class="label" transform="translate(0,0)"><g transform="translate(-3.1875,-5)"><foreignObject width="6.375" height="10"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">D</div></foreignObject></g></g></g></g></g></g></svg></pre></pre>
<ol start="3" type="1">
<li>Convert the reccurence <span class="math inline">\(h\)</span> into a closed form expression i.e. a function in terms of <span class="math inline">\(n\)</span>. <span class="math display">\[
 \begin{array}{l}
 h(0)=0\\
 h(n)=h(n-1) +1
 \end{array}
\]</span></li>
</ol>
<h2 id="csat-question">CSAT Question</h2>
<p>Let <span class="math inline">\(f\)</span> be the recursive function below, with <span class="math inline">\(f(1)=f(0)=0\)</span>. What is the value of <span class="math inline">\(f(1337)\)</span>? <span class="math display">\[
    \begin{array}{l}
    f(n)=f(n-1)-1 \qquad\text{ if $n$ is divisible by 2 or 3 }\\
    f(n)=f(n-2)+2 \qquad\text{ otherwise}
    \end{array}
\]</span></p>
<h2 id="hints">Hints</h2>
<ol type="1">
<li><p>Lets think of <span class="math inline">\(f(n)\)</span> as a program rather than a mathematical function. Try tracing out the steps taken by this program.</p></li>
<li><p>What number may relate to both <span class="math inline">\(3\)</span> and <span class="math inline">\(2\)</span>?</p></li>
<li><p>Knowing that <span class="math inline">\(6\)</span> is the lowest common multiple of <span class="math inline">\(2\)</span> and <span class="math inline">\(3\)</span>, what can you say about <span class="math inline">\(6\)</span> consecutive digits?</p></li>
<li><p>If groups of <span class="math inline">\(6\)</span> repeat, how many groups are there?</p></li>
<li><p>Without knowing the actual value of <span class="math inline">\(n\)</span>, if I told you <span class="math inline">\(n\)</span> is divisible by <span class="math inline">\(6\)</span> and <span class="math inline">\(n &gt; 100\)</span>, could you work out next steps taken by the program?</p></li>
</ol>
<h2 id="solution">Solution</h2>
<p>We begin by tracing the reccurence. Firstly, <span class="math inline">\(1337\)</span> is not divisible by <span class="math inline">\(2\)</span> or <span class="math inline">\(3\)</span>. We therefore have:</p>
<p><span class="math inline">\(1337-2=1335\)</span> which is divisible by <span class="math inline">\(3\)</span>, then <span class="math inline">\(1335-1=1334\)</span> which is divisible by <span class="math inline">\(2\)</span>, then <span class="math inline">\(1334-1=1333\)</span> which is not divisible by <span class="math inline">\(2\)</span> or <span class="math inline">\(3\)</span>, then <span class="math inline">\(1333-2=1331\)</span> which is not divisible by <span class="math inline">\(2\)</span> or <span class="math inline">\(3\)</span>, then <span class="math inline">\(1331-2=1329\)</span> which is divisible by <span class="math inline">\(3\)</span>, then <span class="math inline">\(1329-1=1328\)</span> which is divisible by <span class="math inline">\(2\)</span>, …</p>
<p>By plugging in the numbers, we notice that the sequence <span class="math inline">\((-2,-1,-1,-2)\)</span> repeats every for <span class="math inline">\(6\)</span> consecutive numbers.</p>
<div class="info">
<p><em>Not convinced?</em> Consider that the lowest common multiple of <span class="math inline">\(3\)</span> and <span class="math inline">\(2\)</span> is <span class="math inline">\(6\)</span>. Therefore, a multiple of both <span class="math inline">\(3\)</span> and <span class="math inline">\(2\)</span> occur every <span class="math inline">\(6\)</span> numbers. In fact, for any arbitrary <span class="math inline">\(6\)</span> consecutive integers, one number is divisible by both <span class="math inline">\(2\)</span> and <span class="math inline">\(3\)</span>, one is divisible by <span class="math inline">\(3\)</span> but not by <span class="math inline">\(2\)</span>, two are divisible by <span class="math inline">\(2\)</span> but not by <span class="math inline">\(3\)</span>, and two are divisible by neither <span class="math inline">\(2\)</span> nor <span class="math inline">\(3\)</span>. By starting from a number that is divisible by neither <span class="math inline">\(2\)</span> or <span class="math inline">\(3\)</span> (like <span class="math inline">\(1337\)</span>), our pattern, <span class="math inline">\((-2,-1,-1,-2)\)</span>, yet again unfolds. Test this out!</p>
</div>
<p>Now, we wish to find the number of times this pattern actually occurs. In whole, it occurs <span class="math inline">\(\lfloor1337/(2+1+1+2)\rfloor=222\)</span> times, which gives a remainder of 5. So, we have: <span class="math display">\[
\begin{array}{l}
    f(1337)\\
    =222(+2-1-1+2)+f(5)\\
    =444+f(3)+2\\
    =444+f(2)-1+2\\
    =444+f(1)-1-1+2\\
    =444
    \end{array}
\]</span></p>
</div>